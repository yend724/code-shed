import{s as T}from"./setWindowSize.73fff501.js";import{L as _,F as k,S as C,E as M,a as j,W as z,C as P,M as B,b as F,O as I,D as O}from"./three.module.854fcb4a.js";class H extends _{constructor(e){super(e)}load(e,t,n,r){const c=this,s=new k(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(c.withCredentials),s.load(e,function(d){let l;try{l=JSON.parse(d)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),l=JSON.parse(d.substring(65,d.length-2))}const h=c.parse(l);t&&t(h)},n,r)}parse(e){return new b(e)}}class b{constructor(e){this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],r=R(e,t,this.data);for(let c=0,s=r.length;c<s;c++)Array.prototype.push.apply(n,r[c].toShapes());return n}}function R(o,e,t){const n=Array.from(o),r=e/t.resolution,c=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,s=[];let d=0,l=0;for(let h=0;h<n.length;h++){const p=n[h];if(p===`
`)d=0,l-=c;else{const u=A(p,r,d,l,t);d+=u.offsetX,s.push(u.path)}}return s}function A(o,e,t,n,r){const c=r.glyphs[o]||r.glyphs["?"];if(!c){console.error('THREE.Font: character "'+o+'" does not exists in font family '+r.familyName+".");return}const s=new C;let d,l,h,p,u,g,m,y;if(c.o){const i=c._cachedOutline||(c._cachedOutline=c.o.split(" "));for(let a=0,w=i.length;a<w;)switch(i[a++]){case"m":d=i[a++]*e+t,l=i[a++]*e+n,s.moveTo(d,l);break;case"l":d=i[a++]*e+t,l=i[a++]*e+n,s.lineTo(d,l);break;case"q":h=i[a++]*e+t,p=i[a++]*e+n,u=i[a++]*e+t,g=i[a++]*e+n,s.quadraticCurveTo(u,g,h,p);break;case"b":h=i[a++]*e+t,p=i[a++]*e+n,u=i[a++]*e+t,g=i[a++]*e+n,m=i[a++]*e+t,y=i[a++]*e+n,s.bezierCurveTo(u,g,m,y,h,p);break}}return{offsetX:c.ha*e,path:s}}b.prototype.isFont=!0;class q extends M{constructor(e,t={}){const n=t.font;if(n===void 0)super();else{const r=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(r,t)}this.type="TextGeometry"}}const x=(o,e,t)=>(1-t)*o+t*e,v=[{text:"Code Shed"}];let L=0;const W=document.querySelectorAll("#js-link-list .link-list__link"),G=o=>{const e=o.currentTarget;if(e instanceof HTMLElement){const t=e.dataset.index;L=Number(t)}};W.forEach(o=>{o instanceof HTMLElement&&v.push({text:o.textContent||""}),o.addEventListener("mouseenter",G)});const D=()=>{const o=document.getElementById("canvas"),e={w:o.parentElement.clientWidth,h:o.parentElement.clientHeight},t=new j,n=new z({canvas:o});n.setClearColor(new P(0)),n.setSize(e.w,e.h),n.setPixelRatio(window.devicePixelRatio);let r=[];new H().load("/fonts/BIZUDPGothic_Bold.json",p=>{r=v.map(u=>{const g=new q(u.text,{font:p,size:2,height:.5});g.center();const m=new B({color:16777215,roughness:0,transparent:!0,opacity:0}),y=new F(g,m);return t.add(y),{target:y,material:m}})});const s=new I(-e.w/16,e.w/16,e.h/16,-e.h/16,.1,20);s.position.set(0,0,10),s.lookAt(t.position);const d=new O(16777215,2);d.position.set(0,50,50),t.add(d),window.addEventListener("resize",()=>{e.w=o.parentElement.clientWidth,e.h=o.parentElement.clientHeight,s.left=-e.w/16,s.right=e.w/16,s.top=e.h/16,s.bottom=-e.h/16,s.updateProjectionMatrix(),s.lookAt(0,0,0),n.setSize(e.w,e.h),n.setPixelRatio(window.devicePixelRatio)});let l=0;const h=p=>{const u=p||0,g=(u-l)/1e3;l=u,r.length>0&&r.forEach((m,y)=>{const{target:i,material:a}=m,w=a.opacity,E=i.scale.x;if(y===L){const S=x(w,1,g*4),f=x(E,1,g*4);a.opacity=S,i.scale.set(f,f,f);return}a.opacity=0,i.scale.set(.5,.5,.5)}),n.render(t,s),requestAnimationFrame(h)};h()},N=()=>{T()},J=()=>{const o=document.getElementById("js-site-title"),e=document.getElementById("js-site-icons"),t=document.getElementById("js-l-canvas"),n=document.getElementById("js-l-main");o.addEventListener("animationend",()=>{e.classList.add("__animated"),t.classList.add("__animated"),n.classList.add("__animated")},{once:!0}),o.classList.add("__animated"),D()};window.addEventListener("DOMContentLoaded",N);window.addEventListener("load",J);
