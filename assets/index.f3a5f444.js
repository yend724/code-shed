import{s as S}from"./setWindowSize.73fff501.js";import{L as T,F as _,S as k,E as C,a as M,W as j,C as z,M as P,b as B,O as F}from"./three.module.aeb460c3.js";class I extends T{constructor(e){super(e)}load(e,t,n,c){const r=this,o=new _(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(d){let h;try{h=JSON.parse(d)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),h=JSON.parse(d.substring(65,d.length-2))}const p=r.parse(h);t&&t(p)},n,c)}parse(e){return new b(e)}}class b{constructor(e){this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],c=H(e,t,this.data);for(let r=0,o=c.length;r<o;r++)Array.prototype.push.apply(n,c[r].toShapes());return n}}function H(s,e,t){const n=Array.from(s),c=e/t.resolution,r=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*c,o=[];let d=0,h=0;for(let p=0;p<n.length;p++){const u=n[p];if(u===`
`)d=0,h-=r;else{const l=O(u,c,d,h,t);d+=l.offsetX,o.push(l.path)}}return o}function O(s,e,t,n,c){const r=c.glyphs[s]||c.glyphs["?"];if(!r){console.error('THREE.Font: character "'+s+'" does not exists in font family '+c.familyName+".");return}const o=new k;let d,h,p,u,l,y,g,w;if(r.o){const i=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let a=0,f=i.length;a<f;)switch(i[a++]){case"m":d=i[a++]*e+t,h=i[a++]*e+n,o.moveTo(d,h);break;case"l":d=i[a++]*e+t,h=i[a++]*e+n,o.lineTo(d,h);break;case"q":p=i[a++]*e+t,u=i[a++]*e+n,l=i[a++]*e+t,y=i[a++]*e+n,o.quadraticCurveTo(l,y,p,u);break;case"b":p=i[a++]*e+t,u=i[a++]*e+n,l=i[a++]*e+t,y=i[a++]*e+n,g=i[a++]*e+t,w=i[a++]*e+n,o.bezierCurveTo(l,y,g,w,p,u);break}}return{offsetX:r.ha*e,path:o}}b.prototype.isFont=!0;class R extends C{constructor(e,t={}){const n=t.font;if(n===void 0)super();else{const c=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(c,t)}this.type="TextGeometry"}}const E=(s,e,t)=>(1-t)*s+t*e,v=[{text:"Code Shed"}];let L=0;const A=document.querySelectorAll("#js-link-list .link-list__link"),q=s=>{const e=s.currentTarget;if(e instanceof HTMLElement){const t=e.dataset.index;L=Number(t)}};A.forEach(s=>{s instanceof HTMLElement&&v.push({text:s.textContent||""}),s.addEventListener("mouseenter",q)});const W=()=>{const s=document.getElementById("canvas"),e={w:s.parentElement.clientWidth,h:s.parentElement.clientHeight},t=new M,n=new j({canvas:s});n.setClearColor(new z(0)),n.setSize(e.w,e.h),n.setPixelRatio(window.devicePixelRatio);let c=[];new I().load("/fonts/BIZUDPGothic_Bold.json",p=>{c=v.map(u=>{const l=new R(u.text,{font:p,size:2,height:.5});l.center();const y=new P({transparent:!0,opacity:0}),g=new B(l,y);return t.add(g),{target:g,material:y}})});const o=new F(-e.w/16,e.w/16,e.h/16,-e.h/16,.1,20);o.position.set(0,0,10),o.lookAt(t.position),window.addEventListener("resize",()=>{e.w=s.parentElement.clientWidth,e.h=s.parentElement.clientHeight,o.left=-e.w/16,o.right=e.w/16,o.top=e.h/16,o.bottom=-e.h/16,o.updateProjectionMatrix(),o.lookAt(0,0,0),n.setSize(e.w,e.h),n.setPixelRatio(window.devicePixelRatio)});let d=0;const h=p=>{const u=p||0,l=(u-d)/1e3;d=u,c.length>0&&c.forEach((y,g)=>{const{target:w,material:i}=y,a=i.opacity,f=w.position.y;if(g===L){let m=E(a,1,l*4),x=E(f,0,l*2);m>.95&&(m=1),i.opacity=m,w.position.y=x}else{let m=E(a,0,l*4),x=E(f,-2,l*2);m<.05&&(m=0),i.opacity=m,w.position.y=x}i.opacity===0&&(w.position.y=2)}),n.render(t,o),requestAnimationFrame(h)};h()},G=()=>{S()},N=()=>{const s=document.getElementById("js-site-title"),e=document.getElementById("js-site-icons"),t=document.getElementById("js-l-canvas"),n=document.getElementById("js-l-main");s.addEventListener("animationend",()=>{e.classList.add("__animated"),t.classList.add("__animated"),n.classList.add("__animated")},{once:!0}),s.classList.add("__animated"),W()};window.addEventListener("DOMContentLoaded",G);window.addEventListener("load",N);
